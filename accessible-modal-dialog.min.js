!function(t){"use strict";function e(t){var e=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([value="-1"])'];return n(e.join(","),t).filter(function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)})}function n(t,e){var n=(e||document).querySelectorAll(t);return n.length?Array.prototype.slice.call(n):[]}function i(t,n){var i=e(t),o=document.activeElement,a=i.indexOf(o);n.shiftKey&&0===a?(i[i.length-1].focus(),n.preventDefault()):n.shiftKey||a!==i.length-1||(i[0].focus(),n.preventDefault())}function o(t){t.$openers.forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),t.show()})}),t.$closers.forEach(function(e){e.addEventListener("click",function(e){t.hide()})}),document.addEventListener("keydown",function(e){t.shown!==!1&&(27===e.which&&(e.preventDefault(),t.hide()),9===e.which&&i(t.$modal,e))}),document.body.addEventListener("focus",function(e){t.shown&&!t.$modal.contains(e.target)&&a(t.$modal)},!0)}function a(t){var n=e(t);n.length&&n[0].focus()}var d,s=function(t,e){this.$main=e||document.querySelector("#main"),this.$modal=t,this.$openers=n('[data-modal-show="'+this.$modal.id+'"]'),this.$closers=n("[data-modal-hide]",this.$modal).concat(n('[data-modal-hide="'+this.$modal.id+'"]')),this.shown=!1,o(this)};s.prototype.show=function(){this.shown=!0,this.$modal.removeAttribute("hidden"),this.$main.setAttribute("aria-hidden","true"),d=document.activeElement,a(this.$modal)},s.prototype.hide=function(){this.shown=!1,this.$modal.setAttribute("hidden","true"),this.$main.setAttribute("aria-hidden","false"),d.focus()},t.Modal=s}(window);