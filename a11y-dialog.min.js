!function(a){"use strict";function b(a,b){var c;!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return"function"!=typeof window.CustomEvent&&(a.prototype=window.Event.prototype,void(window.CustomEvent=a))}(),window.CustomEvent?c=new CustomEvent(b):(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!0,!0)),a.dispatchEvent(c)}function c(a){var b=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];return d(b.join(","),a).filter(function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)})}function d(a,b){return Array.prototype.slice.call((b||document).querySelectorAll(a))}function e(a,b){var d=c(a),e=d.indexOf(document.activeElement);b.shiftKey&&0===e?(d[d.length-1].focus(),b.preventDefault()):b.shiftKey||e!==d.length-1||(d[0].focus(),b.preventDefault())}function f(a){var b=c(a);b.length&&b[0].focus()}var g,h=function(a,c){function j(b){i.shown&&!a.contains(b.target)&&f(a)}function k(){i.shown=!0,a.removeAttribute("aria-hidden"),c.setAttribute("aria-hidden","true"),g=document.activeElement,f(a),document.body.addEventListener("focus",j,!0),b(a,"dialog:show")}function l(){i.shown=!1,a.setAttribute("aria-hidden","true"),c.removeAttribute("aria-hidden"),g&&g.focus(),document.body.removeEventListener("focus",j,!0),b(a,"dialog:hide")}var h="data-a11y-dialog",i=this;c=c||document.querySelector("#main"),this.shown=!1,this.show=k,this.hide=l,d("["+h+'-show="'+a.id+'"]').forEach(function(a){a.addEventListener("click",k)}),d("["+h+"-hide]",a).concat(d("["+h+'-hide="'+a.id+'"]')).forEach(function(a){a.addEventListener("click",l)}),document.addEventListener("keydown",function(b){i.shown&&27===b.which&&(b.preventDefault(),l()),i.shown&&9===b.which&&e(a,b)})};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=h:"function"==typeof define&&define.amd?define("A11yDialog",[],function(){return h}):"object"==typeof a&&(a.A11yDialog=h)}(window);